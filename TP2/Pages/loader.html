<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cargando GameBit...</title>
  <!-- CSS necesarios para el loader (rutas relativas desde la carpeta Pages) -->
  <link rel="stylesheet" href="../css/Variables.css" />
  <link rel="stylesheet" href="../css/Utils.css" />
  <link rel="stylesheet" href="../css/Login.css" /> <!-- Reutilizamos los estilos del login -->
  <link rel="stylesheet" href="../css/SVGContainers.css" />
</head>
<body class="auth-bg">

  <!-- ===== Loader ===== -->
  <div id="loadingOverlay" aria-hidden="false">
    <div class="loading-card" role="status" aria-live="polite">
      <div class="logo-puck" aria-hidden="true" style="margin-bottom:10px;">
        <svg fill="#14123A" width="169px" height="169px" viewBox="0 0 24.00 24.00" xmlns="http://www.w3.org/2000/svg" stroke="#14123A" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.048"></g><g id="SVGRepo_iconCarrier"><path d="M21.986 9.74a3.193 3.193 0 0 0-.008-.088A5.003 5.003 0 0 0 17 5H7a4.97 4.97 0 0 0-4.987 4.737c-.01.079-.013.161-.013.253v6.51c0 .925.373 1.828 1.022 2.476A3.524 3.524 0 0 0 5.5 20c1.8 0 2.504-1 3.5-3 .146-.292.992-2 3-2 1.996 0 2.853 1.707 3 2 1.004 2 1.7 3 3.5 3 .925 0 1.828-.373 2.476-1.022A3.524 3.524 0 0 0 22 16.5V10c0-.095-.004-.18-.014-.26zM7 12.031a2 2 0 1 1-.001-3.999A2 2 0 0 1 7 12.031zm10-5a1 1 0 1 1 0 2 1 1 0 1 1 0-2zm-2 4a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm2 2a1 1 0 1 1 0-2 1 1 0 1 1 0 2zm2-2a1 1 0 1 1 0-2 1 1 0 1 1 0 2z"></path></g></svg>
      </div>
      <div class="progress-wrap">
        <div class="progress"></div>
      </div>
      <div class="pct" id="pct" style="text-align:center; margin-top:8px;">0%</div>
      <div class="spinner"></div>
    </div>
  </div>

  <!-- Script para la animación y redirección -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const pct = document.getElementById('pct');
      const progress = document.querySelector('.progress');
      const duration = 5000; // 5 segundos
      let startTime = null;

      function animate(timestamp) {
        if (!startTime) startTime = timestamp;
        const elapsed = timestamp - startTime;
        const percentage = Math.min(Math.floor((elapsed / duration) * 100), 100);

        if (pct) pct.textContent = percentage + '%';
        if (progress) progress.style.width = percentage + '%';

        if (elapsed < duration) {
          requestAnimationFrame(animate);
        }
      }
      requestAnimationFrame(animate);

      // Redirigir a index.html después de 5 segundos
      setTimeout(() => {
        // La ruta es '../login.html' porque login.html está en el directorio padre
        window.location.href = 'login.html';
      }, duration);
    });
  </script>

</body>
</html>